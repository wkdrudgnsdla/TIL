변경할 오브젝트의 Randerer가 필요하다

변경 색상 값을 저장하는 함수가 필요하다

---

## start문

게임 오브젝트의 렌더러 컴포넌트를 가져옴

- 예시코드
    
    objectRenderer = GetComponent<Renderer>();
    

---

## 색깔을 바꾸는 함수

벨류 값에 따라 색을 변경하는 함수를 만들것

newValue가 0이면 빨강, 1이면 파랑

- 예시코드
    
    ```csharp
    void ChangeColor(float Value)
    
    {
    
    	Color newColor = Color.Lerp(Color.red, Color.blue, newValue);
    
    	objectRenderer.material.color = newColor;
    
    }
    ```
    
    위의 예시코드에서 Color.blue를 Color.green으로 바꾸면 초록색으로 변경됨
    

---

## update문

색깔을 바꾸는 함수에 있는걸 선언

- 예시코드
    
    ```csharp
    ChangeColor(value);
    ```
    

## 실제 사용

---

이걸 이용해 플레이어의 Hp값에 따라 색이 변하게 만들어보았다

```csharp
using System.Collections;
using System.Collections.Generic;
using UnityEngine;
using UnityEngine.UI;

public class PlayerHpUI : MonoBehaviour
{
    public PlayerMove playermove;
    public Image image;

    public void Start()
    {
        image = GetComponent<Image>();
    }

    public void Update()
    {
        float normalizedHp = playermove.nowHp / 100f;
        ChangeColor(normalizedHp);
    }

    // HP에 따라 색을 변경하는 함수
    public void ChangeColor(float normalizedHp)
    {
        Color newColor = Color.Lerp(Color.red, Color.green, normalizedHp);
        image.color = newColor;
    }
}

```

우선 이미지의 컴포넌트를 받아온 뒤

업데이트문에서 

플레이어 무브에 있는 nowHp가 100으로 시작하고 컬러 러프 값은 0에서 1 사이의 값만 들어가므로

100만큼 나눠준다

그 값을  normalizedHp에 저장한 뒤 

컬러 러프를 이용해  normalizedHp가 0일때 빨강, 1일때 초록으로 바뀌게 하고 이미지의 컬러를 변경한다

요약

두 값 사이를 측정하는 러프를 이용하기 위해 현재 hp를 100만큼 나눠 0과 1 사이의 값으로 바꾸고

그걸 이용해 hp가 감소할 때마다 색이 점점 빨간색으로 변해가는 hp를 만들었다